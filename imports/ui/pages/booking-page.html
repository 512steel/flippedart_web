<template name="booking_page">

    <div class="row push-down-xxxxlarge">
        <div class="column small-12 medium-12 large-10 large-centered">
            <div class="row">
                <div class="column small-12 medium-10 large-10 small-centered medium-centered large-centered">
                    <h1 class="text-centered push-down-xlarge pull-down">Summon the Tiny Studio</h1>
                </div>
            </div>

            <div class="row">
                <div class="column small-12 medium-10 large-8 small-centered medium-centered large-uncentered">
                    <div id="booking-form">
                        <div class="step-1">

                            <h4>Are you...</h4>

                            <ul class="select-box">
                                <li data-name="{{eventTypes.school}}">A school?</li>
                                <li data-name="{{eventTypes.business}}">A business or organization?</li>
                                <li data-name="{{eventTypes.event}}">An event organizer?</li>
                            </ul>

                            <div class="clearfix">
                                <p class="next-button button primary hollow expanded disabled next-to-step-2 float-right">Next</p>
                            </div>
                        </div>

                        <div class="step-2 hidden">
                            <div class="clearfix">
                                <p class="button secondary hollow back-to-step-1 float-left">Back</p>
                            </div>

                            <div class="row pull-down push-down-large">
                                <div class="small-12 medium-6 columns">

                                    <h5>
                                        <span id="income-tooltip" data-tooltip aria-haspopup="true" class="has-tip right" style="font-weight: normal;" data-disable-hover="false" tabindex="2"
                                              title="We operate on a sliding scale model for our pop-up events. Please provide a good-faith estimate of your organization's yearly income.">
                                            {{#if equals currentEventType eventTypes.school}}
                                                School's income
                                            {{/if}}
                                            {{#if equals currentEventType eventTypes.business}}
                                                Organization's income
                                            {{/if}}
                                            {{#if equals currentEventType eventTypes.event}}
                                                Event organization's income
                                            {{/if}}
                                        </span>
                                    </h5>

                                    <div class="income-chart-container clearfix push-down text-centered small-12 medium-6 large-6 column" style="width:100%;">
                                        <canvas id="incomeChartLeft"></canvas>
                                        <canvas id="incomeChartLine"></canvas>
                                        <canvas id="incomeChartRight"></canvas>
                                    </div>

                                    <div class="slider clearfix" id="income-slider" data-slider data-start="10" data-end="90" data-initial-start="30" data-step="10" data-changed-delay="0">
                                        <span class="slider-handle"  data-slider-handle role="slider" tabindex="1" aria-controls="incomeSliderOutput"></span>
                                        <span class="slider-fill" data-slider-fill></span>
                                    </div>
                                    <input type="number" class="hidden" id="incomeSliderOutput" />

                                    <p class="text-centered font-truenorth">
                                        <span id="incomeSlider-output-computed"></span>
                                        <br>
                                        per year
                                    </p>
                                </div>
                                <div class="small-12 medium-6 columns">

                                    <h5>
                                        <span id="attendance-tooltip" data-tooltip aria-haspopup="true" class="has-tip right" style="font-weight: normal;" data-disable-hover="false" tabindex="2"
                                              title="An estimated number of people you think will engage with our makerspace.  This helps us plan out how we stock the Tiny Studio prior to your event.">
                                            Expected attendance
                                        </span>
                                    </h5>

                                    <div class="attendance-chart-container clearfix push-down text-centered small-12 medium-6 large-6 column" style="width:100%;">
                                        <canvas id="attendanceChartLeft"></canvas>
                                        <canvas id="attendanceChartLine"></canvas>
                                        <canvas id="attendanceChartRight"></canvas>
                                    </div>

                                    <div class="slider clearfix" id="attendance-slider" data-slider data-start="6" data-end="96" data-initial-start="46" data-step="2" data-changed-delay="0">
                                        <span class="slider-handle"  data-slider-handle role="slider" tabindex="1" aria-controls="attendanceSliderOutput"></span>
                                        <span class="slider-fill" data-slider-fill></span>
                                    </div>
                                    <input type="number" class="hidden" id="attendanceSliderOutput" />

                                    <p class="text-centered font-truenorth">
                                        <span id="attendanceSlider-output-computed" class="text-centered"></span>
                                        <br>
                                        makers
                                    </p>
                                </div>
                            </div>
                            <div class="row push-down">
                                <div class="small-12 columns">

                                    <h5>
                                        <span id="time-tooltip" data-tooltip aria-haspopup="true" class="has-tip right" style="font-weight: normal;" data-disable-hover="false" tabindex="2"
                                              title="The amount of time you would like us to provide engaging activities for your event.  This does not include our own set-up/tear-down time.">
                                            Length of the event
                                        </span>
                                    </h5>

                                    <div class="time-chart-container clearfix push-down text-centered small-12 medium-12 large-12 column" style="width:100%;">
                                        <canvas id="timeChartLeft"></canvas>
                                        <canvas id="timeChartLine"></canvas>
                                        <canvas id="timeChartRight"></canvas>
                                    </div>

                                    <div class="slider clearfix" id="time-slider" data-slider data-start="15" data-end="95" data-initial-start="35" data-step="5" data-changed-delay="0">
                                        <span class="slider-handle"  data-slider-handle role="slider" tabindex="1" aria-controls="timeSliderOutput"></span>
                                        <span class="slider-fill" data-slider-fill></span>
                                    </div>
                                    <input type="number" class="hidden" id="timeSliderOutput" />

                                    <p class="text-centered font-truenorth">
                                        <span id="timeSlider-output-computed"></span>
                                        <br>
                                        hours
                                    </p>
                                </div>
                            </div>

                            <div class="clearfix pull-down">
                                <ul class="accordion" data-accordion data-allow-all-closed="true">
                                    <li class="accordion-item" data-accordion-item>
                                        <a href="#" class="accordion-title" data-no-instant>Tell me more about the sliding scale</a>
                                        <div class="accordion-content" data-tab-content>
                                            <h6>The Sliding Scale model</h6>
                                            <p>
                                                Stuff about the sliding scale, plus the equation.
                                            </p>

                                        </div>
                                    </li>
                                    <li class="accordion-item" data-accordion-item>
                                        <a href="#" class="accordion-title" data-no-instant>How is "income" different than "budget"?</a>
                                        <div class="accordion-content" data-tab-content>
                                            <h6>Income vs. Budget</h6>
                                            <p>
                                                Stuff stuff stuff stuff stuff.
                                            </p>

                                        </div>
                                    </li>
                                    <li class="accordion-item" data-accordion-item>
                                        <a href="#" class="accordion-title" data-no-instant>How do you use this information?</a>
                                        <div class="accordion-content" data-tab-content>
                                            <h6>Privacy</h6>
                                            <p>
                                                The information you submit here is kept in full confidence, and will only
                                                be used in order to compute a fair and customized price for bringing the
                                                Tiny Studio to your event.
                                            </p>

                                        </div>
                                    </li>
                                </ul>
                            </div>

                            <div class="clearfix pull-down">
                                <p class="next-button button primary hollow expanded next-to-step-3 float-right">Next</p>
                            </div>
                        </div>

                        <div class="step-3 hidden">
                            <div class="clearfix">
                                <p class="button secondary hollow back-to-step-2 float-left">Back</p>
                            </div>

                            {{#if equals currentEventType eventTypes.school}}
                                <label><strong>Name of your school:</strong></label>
                                <input type="text" class="event-name" placeholder="School name..." />
                            {{/if}}
                            {{#if equals currentEventType eventTypes.business}}
                                <label><strong>Name of your business or organization:</strong></label>
                                <input type="text" class="event-name" placeholder="Organization name..." />
                            {{/if}}
                            {{#if equals currentEventType eventTypes.event}}
                                <label><strong>Name of the event:</strong></label>
                                <input type="text" class="event-name" placeholder="Event name..." />
                            {{/if}}

                            <label><strong>Date of the event (date picker here, attached to the Google Calendar API)</strong></label>

                            <label><strong>Age range:</strong></label>
                            <select class="select-age-range" required>
                                {{#if equals currentEventType eventTypes.school}}
                                    <option disabled selected>Select an age range</option>
                                    <option value="Early elementary (grades 1 - 3)">Early elementary (1<sup>st</sup>&ndash;3<sup>rd</sup> grade)</option>
                                    <option value="Late elementary (grades 3 - 5)">Late elementary (3<sup>rd</sup>&ndash;5<sup>th</sup> grade)</option>
                                    <option value="Middle school (grades 6 - 8)">Middle school (6<sup>th</sup>&ndash;8<sup>th</sup> grade)</option>
                                    <option value="High school (grades 9 - 12)">High school (9<sup>th</sup>&ndash;12<sup>th</sup> grade)</option>
                                    <option value="Teachers and administrators">Teachers and administrators</option>
                                {{/if}}
                                {{#if equals currentEventType eventTypes.business}}
                                    <option disabled selected>Select an age range</option>
                                    <option value="5 - 8">5 - 8</option>
                                    <option value="8 - 10">8 - 10</option>
                                    <option value="10 - 13">10 - 13</option>
                                    <option value="13 - 15">13 - 15</option>
                                    <option value="15 - 18">15 - 18</option>
                                    <option value="18 and up">18+</option>
                                {{/if}}
                                {{#if equals currentEventType eventTypes.event}}
                                    <option disabled selected>Select an age range</option>
                                    <option value="5 - 8">5 - 8</option>
                                    <option value="8 - 10">8 - 10</option>
                                    <option value="10 - 13">10 - 13</option>
                                    <option value="13 - 15">13 - 15</option>
                                    <option value="15 - 18">15 - 18</option>
                                    <option value="18 and up">18+</option>
                                {{/if}}
                            </select>

                            <label><strong>Your contact email (we will coordinate with you and send the bill to this address)</strong></label>
                            <input name="contact-email" class="contact-email" type="email" required placeholder="Email address..." maxlength="100" />

                            <label><strong>Please describe anything else about your event that we should
                                know about, in as much detail as possible.</strong></label>
                            <textarea required class="additional-details" name="additional-details" type="text" placeholder="Additional details..." rows="4" maxlength="20000"></textarea>

                            <input type="submit" value="Submit your request" class="next-button button primary expanded next-to-submit">
                        </div>
                    </div>
                </div>

                <div class="column small-8 medium-6 large-4 small-centered medium-centered large-uncentered float-none shift-down" style="border-left: 1px solid #dadada; border-right: 1px solid #dadada;">
                    {{#if equals currentEventType eventTypes.school}}
                        <p>
                            I want the
                            <a href="{{pathFor 'static.tinyStudio'}}">Tiny Studio</a>
                            for my <strong>{{bookingRequest.eventType}}</strong>
                        </p>
                    {{/if}}

                    {{#if equals currentEventType eventTypes.business}}
                        <p>
                            I want the
                            <a href="{{pathFor 'static.tinyStudio'}}">Tiny Studio</a>
                            for my <strong>{{bookingRequest.eventType}}</strong>
                        </p>
                    {{/if}}

                    {{#if equals currentEventType eventTypes.event}}
                        <p>
                            I want the
                            <a href="{{pathFor 'static.tinyStudio'}}">Tiny Studio</a>
                            for my <strong>{{bookingRequest.eventType}}</strong>
                        </p>
                    {{/if}}

                    {{#if hasBeenToStep2}}
                        <p>
                            We make
                            <strong>{{bookingRequest.incomeSliderComputed}}</strong>
                            per year
                        </p>
                        <p>
                            This event is for an estimated
                            <strong>{{bookingRequest.attendanceSliderComputed}}</strong>
                            makers
                        </p>
                        <p>
                            The event lasts
                            <strong>{{bookingRequest.timeSliderComputed}}</strong>
                            hours
                        </p>
                    {{/if}}

                    {{#if bookingRequest.eventName}}
                        <p>
                            Event name: <strong>{{bookingRequest.eventName}}</strong>
                        </p>
                    {{else}}
                    {{/if}}

                    {{#if bookingRequest.ageRange}}
                        <p>
                            The target age is
                            <strong>{{toLowerCase bookingRequest.ageRange}}</strong>
                        </p>
                    {{else}}
                    {{/if}}

                    {{#if bookingRequest.contactEmail}}
                        <p>
                            Contact email:
                            {{#unless matchesEmailRegex bookingRequest.contactEmail}}
                                <strong style="color: darkred;">{{bookingRequest.contactEmail}}</strong>
                            {{else}}
                                <strong>{{bookingRequest.contactEmail}}</strong>
                            {{/unless}}
                        </p>
                    {{else}}
                    {{/if}}
                </div>

                <div class="column"><!-- empty column as a workaround to Foundation's "incomplete rows" -centered bug --></div>
            </div>
        </div>
    </div>

</template>

<template name="booking_page_thanks">
    <div class="row push-down-xxxxlarge">
        <div class="column small-12 medium-12 large-10 large-centered">
            <div class="row">
                <div class="column small-12 medium-10 large-10 small-centered medium-centered large-centered">
                    <h1 class="text-centered push-down-xlarge pull-down">Thank you!</h1>
                    <p>We will be in touch with you very shortly.  In the meantime, if you have any questions please reach out to us at
                        <a href="mailto:hello@flippedart.org" data-no-instant>hello@flippedart.org</a>
                    </p>
                </div>
            </div>
        </div>
    </div>
</template>