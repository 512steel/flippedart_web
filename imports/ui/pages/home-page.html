<template name="home_page">

    <div class="row medium-collapse expanded" data-equalizer data-equalize-on="medium" id="home-equalized-1">
        <div class="medium-4 columns">
            <div class="padded-xlarge bordered-light callout background-red no-margin" style="min-height:10rem;" data-equalizer-watch>
                <div class="column-centered-vertical" style="width: 100%;margin-left: -2rem;text-align: center;">
                    <h2 class="no-margin text-white" style="padding:0 1em;">
                        <span class="">Flipped Art is...</span>
                        <!--<span class="pop-out-text">Flipped Art</span><br>
                        <span class="pop-out-text">is...</span>-->
                    </h2>
                </div>
            </div>
        </div>

        <div class="medium-8 columns">
            <div class="padded-xlarge bordered-light pull-down" data-equalizer-watch>
                <h5 class="push-down">
                    ...a maker community in Des Moines. We connect people at any level of ability with creative
                    resources. Wannabes are welcome here.
                </h5>
                <h5 class="push-down">
                    ...the coolest mobile art studio in town. <a href="{{pathFor 'static.tinyStudio'}}">Read all about it!</a>
                </h5>
                <h5 class="push-down">
                    ...for you.
                    {{#if currentUser}}
                        We're glad you joined, {{currentUsername}}! Be sure to poke around and find out what other users
                        are up to.
                    {{else}}
                        <a href="{{pathFor 'join'}}">Sign up</a> (for free!) to be part of something awesome.
                    {{/if}}
                </h5>
            </div>
        </div>
    </div>

    <div class="row medium-collapse expanded" data-equalizer data-equalize-on="medium" id="home-equalized-2">
        <div class="medium-6 columns">
            <div class="padded-xxlarge bordered-light callout no-margin" data-equalizer-watch>
                <div class="push-left">
                    <h4 class="push-down-small">
                        <a href="{{pathFor 'static.tinyStudio'}}">The Tiny Studio</a>
                    </h4>
                    <h4 class="push-down-small">
                        <a href="{{pathFor 'static.booking'}}">Book the Tiny Studio</a>
                    </h4>
                    <h4 class="push-down-small">
                        <a href="{{pathFor 'static.howto'}}">How to get started</a>
                    </h4>
                    <h4 class="push-down-small">
                        <a href="{{pathFor 'static.feedback'}}">Give us feedback</a>
                    </h4>
                </div>
            </div>
        </div>

        <div class="medium-6 columns">
            <div class="padded-xlarge bordered-light pull-down background-dark" style="min-height: 15rem; position:relative" data-equalizer-watch>
                <img class="skyline-image" src="/chalk-skyline-small.png"/>
                <span class="pop-out-text font-truenorth text-red" style="position: absolute;z-index:999;bottom:1rem;right:2rem;">#makedsmweird</span>
            </div>
        </div>
    </div>

    <div class="row"></div>

    <div class="row push-down-large">
        <div class="row pull-down-large push-down" id="home-page-explore">
            <div class="column small-12 medium-8 large-6 medium-centered large-centered">
                <h2 class="text-centered">Upcoming events</h2>
            </div>
        </div>

        <div class="columns shift-down-large border-right border-left border-gray small-no-border small-12 medium-8 large-6 medium-centered large-centered">
            {{#each event in upcomingEvents}}
                <p class="push-down">{{> event_calendar_single_event_small event}}</p>
                {{else}}
                <p>
                    There are no upcoming events scheduled.  Add an event
                    <a href="{{pathFor 'eventCalendar.add'}}"><strong>here</strong></a>!
                </p>
                {{/each}}
        </div>
        <div class="row"></div>
    </div>

    <hr>

    <!-- NOTE: taking the posts feed out for now, for user testing.
    <div class="row push-down-large">
        <h4 class="columns small-12 push-down">Popular posts</h4>

        <div class="columns small-12">
            <div class="row" data-equalizer data-equalize-on="medium" id="home-equalized-3">
                {{#each topUserPosts}}
                    {{#if equals @index 0}}
                        <div class="column small-12 medium-6 large-6 bordered-light padded-large small-push-down" data-equalizer-watch>
                            {{>user_post_card userPost=this small_card=true}}
                        </div>
                    {{/if}}
                    {{#if equals @index 1}}
                        <div class="column small-12 medium-6 large-6 bordered-light padded-large small-push-down" data-equalizer-watch>
                            {{>user_post_card userPost=this small_card=true}}
                        </div>
                    {{/if}}
                {{else}}
                    <p>No posts yet.</p>
                {{/each}}
            </div>

            <div class="row" data-equalizer data-equalize-on="medium" id="home-equalized-4">
                {{#each topUserPosts}}
                    {{#if equals @index 2}}
                        <div class="column small-12 medium-12 large-12 bordered-light padded-large small-push-down" data-equalizer-watch>
                            {{>user_post_card userPost=this small_card=true}}
                        </div>
                    {{/if}}
                {{/each}}
            </div>

            <div class="row" data-equalizer data-equalize-on="medium" id="home-equalized-5">
                {{#each topUserPosts}}
                    {{#if equals @index 3}}
                        <div class="column small-12 medium-6 large-6 bordered-light padded-large small-push-down" data-equalizer-watch>
                            {{>user_post_card userPost=this small_card=true}}
                        </div>
                    {{/if}}
                    {{#if equals @index 4}}
                        <div class="column small-12 medium-6 large-6 bordered-light padded-large small-push-down" data-equalizer-watch>
                            {{>user_post_card userPost=this small_card=true}}
                        </div>
                    {{/if}}
                {{/each}}
            </div>
        </div>
    </div>-->

    <div class="row push-down-large">
        <div class="row pull-down-large push-down" id="home-page-explore">
            <div class="column small-12 medium-8 large-6 medium-centered large-centered">
                <h2 class="text-centered">Top projects</h2>
            </div>
        </div>

        <div class="columns small-12">
            <div class="row" data-equalizer data-equalize-on="medium" id="home-equalized-6">
                {{#each topProjects}}
                    {{#if equals @index 0}}
                        <div class="column homepage-projects-column small-12 medium-6 bordered-light padded-xlarge small-push-down" data-equalizer-watch>
                            <div class="homepage-project-box">
                                <a href="{{pathFor 'projects.single' username=this.ownerName exchangeItemId=this._id}}">
                                    <img src="{{c.url this.imageLinks.[0] secure=true width=600 height=600 crop='lfill'}}">

                                    <p class="homepage-project-title spill-text">
                                        {{this.title}}
                                    </p>
                                </a>
                            </div>
                        </div>
                    {{/if}}
                    {{#if equals @index 1}}
                        <div class="column homepage-projects-column small-12 medium-6 bordered-light padded-xlarge small-push-down" data-equalizer-watch>
                            <div class="homepage-project-box">
                                <a href="{{pathFor 'projects.single' username=this.ownerName exchangeItemId=this._id}}">
                                    <img src="{{c.url this.imageLinks.[0] secure=true width=600 height=600 crop='lfill'}}">

                                    <p class="homepage-project-title spill-text">
                                        {{this.title}}
                                    </p>
                                </a>
                            </div>
                        </div>
                    {{/if}}
                {{else}}
                    <p>There are no projects at this time.</p>
                {{/each}}
            </div>
            <div class="row" data-equalizer data-equalize-on="medium" id="home-equalized-7">
                {{#each topProjects}}
                    {{#if equals @index 2}}
                        <div class="column homepage-projects-column small-12 medium-6 bordered-light padded-xlarge small-push-down" data-equalizer-watch>
                            <div class="homepage-project-box">
                                <a href="{{pathFor 'projects.single' username=this.ownerName exchangeItemId=this._id}}">
                                    <img src="{{c.url this.imageLinks.[0] secure=true width=600 height=600 crop='lfill'}}">

                                    <p class="homepage-project-title spill-text">
                                        {{this.title}}
                                    </p>
                                </a>
                            </div>
                        </div>
                    {{/if}}
                    {{#if equals @index 3}}
                        <div class="column homepage-projects-column small-12 medium-6 bordered-light padded-xlarge small-push-down" data-equalizer-watch>
                            <div class="homepage-project-box">
                                <a href="{{pathFor 'projects.single' username=this.ownerName exchangeItemId=this._id}}">
                                    <img src="{{c.url this.imageLinks.[0] secure=true width=600 height=600 crop='lfill'}}">

                                    <p class="homepage-project-title spill-text">
                                        {{this.title}}
                                    </p>
                                </a>
                            </div>
                        </div>
                    {{/if}}
                {{/each}}
            </div>
            <div class="row" data-equalizer data-equalize-on="medium" id="home-equalized-8">
                {{#each topProjects}}
                    {{#if equals @index 4}}
                        <div class="column homepage-projects-column small-12 medium-6 bordered-light padded-xlarge small-push-down" data-equalizer-watch>
                            <div class="homepage-project-box">
                                <a href="{{pathFor 'projects.single' username=this.ownerName exchangeItemId=this._id}}">
                                    <img src="{{c.url this.imageLinks.[0] secure=true width=600 height=600 crop='lfill'}}">

                                    <p class="homepage-project-title spill-text">
                                        {{this.title}}
                                    </p>
                                </a>
                            </div>
                        </div>
                    {{/if}}
                    {{#if equals @index 5}}
                        <div class="column homepage-projects-column small-12 medium-6 bordered-light padded-xlarge small-push-down" data-equalizer-watch>
                            <div class="homepage-project-box">
                                <a href="{{pathFor 'projects.single' username=this.ownerName exchangeItemId=this._id}}">
                                    <img src="{{c.url this.imageLinks.[0] secure=true width=600 height=600 crop='lfill'}}">

                                    <p class="homepage-project-title spill-text">
                                        {{this.title}}
                                    </p>
                                </a>
                            </div>
                        </div>
                    {{/if}}
                {{/each}}
            </div>
        </div>
    </div>

    <hr>

    <div class="row push-down-large">
        <div class="row pull-down-large push-down" id="home-page-explore">
            <div class="column small-12 medium-8 large-6 medium-centered large-centered">
                <h2 class="text-centered">Top makers</h2>
            </div>
        </div>

        <div class="columns small-12">
            <div class="row" data-equalizer data-equalize-on="medium" id="home-equalized-9">
                {{#each topUserAttributes}}
                    {{#if equals @index 0}}
                        <div class="column small-6 medium-4 large-3 bordered-light padded push-down" data-equalizer-watch>
                            {{> user_attributes_card_small}}
                        </div>
                    {{/if}}
                    {{#if equals @index 1}}
                        <div class="column small-6 medium-4 large-3 bordered-light padded push-down" data-equalizer-watch>
                            {{> user_attributes_card_small}}
                        </div>
                    {{/if}}
                    {{#if equals @index 2}}
                        <div class="column small-6 medium-4 large-3 bordered-light padded push-down" data-equalizer-watch>
                            {{> user_attributes_card_small}}
                        </div>
                    {{/if}}
                    {{#if equals @index 3}}
                        <div class="column small-6 medium-4 large-3 bordered-light padded push-down" data-equalizer-watch>
                            {{> user_attributes_card_small}}
                        </div>
                    {{/if}}
                    {{#if equals @index 4}}
                        <div class="column small-6 medium-4 large-3 bordered-light padded push-down" data-equalizer-watch>
                            {{> user_attributes_card_small}}
                        </div>
                    {{/if}}
                    {{#if equals @index 5}}
                        <div class="column small-6 medium-4 large-3 bordered-light padded push-down" data-equalizer-watch>
                            {{> user_attributes_card_small}}
                        </div>
                    {{/if}}
                    {{#if equals @index 6}}
                        <div class="column small-6 medium-4 large-3 bordered-light padded push-down" data-equalizer-watch>
                            {{> user_attributes_card_small}}
                        </div>
                    {{/if}}
                    {{#if equals @index 7}}
                        <div class="column small-6 medium-4 large-3 bordered-light padded push-down" data-equalizer-watch>
                            {{> user_attributes_card_small}}
                        </div>
                    {{/if}}
                    {{#if equals @index 8}}
                        <div class="column small-6 medium-4 large-3 bordered-light padded push-down" data-equalizer-watch>
                            {{> user_attributes_card_small}}
                        </div>
                    {{/if}}
                    {{#if equals @index 9}}
                        <div class="column small-6 medium-4 large-3 bordered-light padded push-down" data-equalizer-watch>
                            {{> user_attributes_card_small}}
                        </div>
                    {{/if}}
                    {{#if equals @index 10}}
                        <div class="column small-6 medium-4 large-3 bordered-light padded push-down" data-equalizer-watch>
                            {{> user_attributes_card_small}}
                        </div>
                    {{/if}}
                    {{#if equals @index 11}}
                        <div class="column small-6 medium-4 large-3 bordered-light padded push-down" data-equalizer-watch>
                            {{> user_attributes_card_small}}
                        </div>
                    {{/if}}
                {{else}}
                    <p>No users yet.</p>
                {{/each}}
            </div>
        </div>
    </div>

    <hr>

    <div class="row">
        <div class="row pull-down-large push-down" id="home-page-explore">
            <div class="column small-12 medium-8 large-6 medium-centered large-centered">
                <h2 class="text-centered">Recent activity</h2>
            </div>
        </div>

        <div class="columns small-10 medium-8 small-centered text-centered">
            <!-- TODO: refactor into _card template + inline CSS -->
            <div style="background: #fafafa;">
                <hr style="margin:0;">
                {{#each recentActivityItems}}
                    <a class="username-tag text-large" href="{{this.link}}">
                        <div style="padding-top:1rem;">
                            <p>
                                <strong>
                                    {{this.actionText}}
                                </strong>
                           </p>
                            <hr style="margin:0;">
                        </div>
                    </a>
                {{/each}}
            </div>
        </div>
        <div class="row"></div>
    </div>

    <div class="row pull-down-large push-down-large">
        <div class="column small-10 medium-6 large-4 small-centered text-centered">

            <p class="text-centered">You have something to add.</p>
            <p>
                {{#if currentUser}}
                    <a href="{{pathFor 'profile.page' username=currentUsername}}"
                       class="button primary hollow expanded">Go to your profile</a>
                {{else}}
                    <a href="{{pathFor 'join'}}" class="button primary expanded"><strong>Start here</strong></a>
                {{/if}}
            </p>
        </div>
    </div>

</template>